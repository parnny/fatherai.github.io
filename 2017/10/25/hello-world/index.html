<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Getting Started with TensorFlow On IOS | KingSoft-AI</title>

  <!-- keywords -->
  

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Welcome to KingSoft AILab! In this article,we’ll walk through getting TensorFlow, Google’s machine learning library, set up to perform inference directly on an iOS device. Installing TensorFlow on IOS">
<meta property="og:type" content="article">
<meta property="og:title" content="Getting Started with TensorFlow On IOS">
<meta property="og:url" content="http://yoursite.com/2017/10/25/hello-world/index.html">
<meta property="og:site_name" content="KingSoft-AI">
<meta property="og:description" content="Welcome to KingSoft AILab! In this article,we’ll walk through getting TensorFlow, Google’s machine learning library, set up to perform inference directly on an iOS device. Installing TensorFlow on IOS">
<meta property="og:locale" content="en">
<meta property="og:updated_time" content="2017-10-26T02:51:06.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Getting Started with TensorFlow On IOS">
<meta name="twitter:description" content="Welcome to KingSoft AILab! In this article,we’ll walk through getting TensorFlow, Google’s machine learning library, set up to perform inference directly on an iOS device. Installing TensorFlow on IOS">
  
    <link rel="alternative" href="/atom.xml" title="KingSoft-AI" type="application/atom+xml">
  
  
    <link rel="icon" href="https://image.baidu.com/search/detail?z=0&ipn=d&word=人工智能%20标识&step_word=&hs=0&pn=1&spn=0&di=0&pi=&tn=baiduimagedetail&is=0%2C0&istype=&ie=utf-8&oe=utf-8&cs=689691022%2C755374610&os=2194597829%2C1906536421&simid=&adpicid=0&lpn=0&fm=&sme=&cg=&bdtype=14&simics=2628950329%2C2234381557&oriquery=&objurl=https%3A%2F%2Ftimgsa.baidu.com%2Ftimg%3Fimage%26quality%3D80%26size%3Db10000_10000%26sec%3D1508986646%26di%3De6122d0b8d14ecbd87b29d31541da000%26src%3Dhttp%3A%2F%2Fwww.bjchengxing.com%2Fimg%2FaHR0cDovL2ltYWdlMTEubTE5MDUuY24vdXBsb2FkZmlsZS8yMDEyLzExMDEvMjAxMjExMDEwNDA0MTEzMDUuanBn.jpg&fromurl=ippr_z2C%24qAzdH3FAzdH3Fooo_z%26e3Bk3vijg2xtg2_z%26e3Bv54AzdH3F3twg8098cn9b_z%26e3Bip4s&gsm=0&cardserver=1">
  
  <link rel="stylesheet" href="/css/style.css">
  
  

  <script src="//cdn.bootcss.com/require.js/2.3.2/require.min.js"></script>
  <script src="//cdn.bootcss.com/jquery/3.1.1/jquery.min.js"></script>

  
</head>
<body>
  <div id="container">
    <div id="particles-js"></div>
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img lazy-src="https://image.baidu.com/search/detail?z=0&amp;ipn=d&amp;word=人工智能%20标识&amp;step_word=&amp;hs=0&amp;pn=1&amp;spn=0&amp;di=0&amp;pi=&amp;tn=baiduimagedetail&amp;is=0%2C0&amp;istype=&amp;ie=utf-8&amp;oe=utf-8&amp;cs=689691022%2C755374610&amp;os=2194597829%2C1906536421&amp;simid=&amp;adpicid=0&amp;lpn=0&amp;fm=&amp;sme=&amp;cg=&amp;bdtype=14&amp;simics=2628950329%2C2234381557&amp;oriquery=&amp;objurl=https%3A%2F%2Ftimgsa.baidu.com%2Ftimg%3Fimage%26quality%3D80%26size%3Db10000_10000%26sec%3D1508986646%26di%3De6122d0b8d14ecbd87b29d31541da000%26src%3Dhttp%3A%2F%2Fwww.bjchengxing.com%2Fimg%2FaHR0cDovL2ltYWdlMTEubTE5MDUuY24vdXBsb2FkZmlsZS8yMDEyLzExMDEvMjAxMjExMDEwNDA0MTEzMDUuanBn.jpg&amp;fromurl=ippr_z2C%24qAzdH3FAzdH3Fooo_z%26e3Bk3vijg2xtg2_z%26e3Bv54AzdH3F3twg8098cn9b_z%26e3Bip4s&amp;gsm=0&amp;cardserver=1" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/"></a></h1>
		</hgroup>

		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						<div class="icon-wrap icon-link hide" data-idx="2">
							<div class="loopback_l"></div>
							<div class="loopback_r"></div>
						</div>
						
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>菜单</li>
						<li>标签</li>
						
						<li>友情链接</li>
						
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">HomePage</a></li>
				        
							<li><a href="/archives">CATEGORIES</a></li>
				        
							<li><a href="/">LINKS</a></li>
				        
							<li><a href="/">ABOUT US</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						
					</div>
				</section>
				
				
				
				<section class="switch-part switch-part3">
					<div id="js-friends">
					
			          <a target="_blank" class="main-nav-link switch-friends-link" href="https://github.com/smackgg/hexo-theme-smackdown">smackdown</a>
			        
			        </div>
				</section>
				

				
			</div>
		</div>
	</header>				
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide"></h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				<img lazy-src="https://image.baidu.com/search/detail?z=0&amp;ipn=d&amp;word=人工智能%20标识&amp;step_word=&amp;hs=0&amp;pn=1&amp;spn=0&amp;di=0&amp;pi=&amp;tn=baiduimagedetail&amp;is=0%2C0&amp;istype=&amp;ie=utf-8&amp;oe=utf-8&amp;cs=689691022%2C755374610&amp;os=2194597829%2C1906536421&amp;simid=&amp;adpicid=0&amp;lpn=0&amp;fm=&amp;sme=&amp;cg=&amp;bdtype=14&amp;simics=2628950329%2C2234381557&amp;oriquery=&amp;objurl=https%3A%2F%2Ftimgsa.baidu.com%2Ftimg%3Fimage%26quality%3D80%26size%3Db10000_10000%26sec%3D1508986646%26di%3De6122d0b8d14ecbd87b29d31541da000%26src%3Dhttp%3A%2F%2Fwww.bjchengxing.com%2Fimg%2FaHR0cDovL2ltYWdlMTEubTE5MDUuY24vdXBsb2FkZmlsZS8yMDEyLzExMDEvMjAxMjExMDEwNDA0MTEzMDUuanBn.jpg&amp;fromurl=ippr_z2C%24qAzdH3FAzdH3Fooo_z%26e3Bk3vijg2xtg2_z%26e3Bv54AzdH3F3twg8098cn9b_z%26e3Bip4s&amp;gsm=0&amp;cardserver=1" class="js-avatar">
			</div>
			<hgroup>
			  <h1 class="header-author"></h1>
			</hgroup>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">HomePage</a></li>
		        
					<li><a href="/archives">CATEGORIES</a></li>
		        
					<li><a href="/">LINKS</a></li>
		        
					<li><a href="/">ABOUT US</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
				</div>
			</nav>
		</header>				
	</div>
</nav>
      <div class="body-wrap"><article id="post-hello-world" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/10/25/hello-world/" class="article-date">
  	<time datetime="2017-10-25T09:56:32.000Z" itemprop="datePublished">2017-10-25</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Getting Started with TensorFlow On IOS
      
    </h1>
  

      </header>
      
      <div class="article-info article-info-post">
        
        

        
        <div class="clearfix"></div>
      </div>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Welcome to KingSoft AILab! In this article,we’ll walk through getting TensorFlow, Google’s machine learning library, set up to perform inference directly on an iOS device.</p>
<h4 id="Installing-TensorFlow-on-IOS"><a href="#Installing-TensorFlow-on-IOS" class="headerlink" title="Installing TensorFlow on IOS"></a>Installing TensorFlow on IOS</h4><blockquote>
<p>The binary distribution of TensorFlow for macOS does not include the IOS static library or some of the scripts we’ll need, so we’ll have to build both ourselves in a later section. Since it helps if the version of the iOS library is the same as the version of TensorFlow installed on our system, we’ll re-install the latest version of TensorFlow from source (even if it’s already installed). This can save us some headaches down the road.</p>
<p>DownLoad TensorFlow here: <a href="https://github.com/tensorflow/tensorflow" target="_blank" rel="external">TensorFlow</a></p>
</blockquote>
<h4 id="Building-Tensorflow-on-IOS"><a href="#Building-Tensorflow-on-IOS" class="headerlink" title="Building Tensorflow on IOS"></a>Building Tensorflow on IOS</h4><blockquote>
<p>From our directory of TensorFlow sources, we can simply run:</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ tensorflow/contrib/makefile/build_all_ios.sh</div></pre></td></tr></table></figure>
<blockquote>
<p>Running build_all_ios.sh will generate a TensorFlow static library in the tensorflow/contrib/makefile/gen/lib subdirectory. This library is compiled for ARMv7, ARM64, and x86 architectures, so you can use it in both the iOS simulator and on iOS hardware.</p>
</blockquote>
<h4 id="Setting-up-xcode-project"><a href="#Setting-up-xcode-project" class="headerlink" title="Setting up xcode project"></a>Setting up xcode project</h4><blockquote>
<p>Create a new xcode project,we call it TensorFlowTest,then,we have to tell the iOS target about the TensorFlow static library we built for iOS (and the protocol buffer library is relies on). To do this, copy the following static library to your TensorFlowTest project Dir.</p>
</blockquote>
<p><table><tr><td bgcolorr="BlueViolet"> <strong>tensorflow/tensorflow/contrib/makefile/gen/lib/libtensorflow-core.a</strong><br><strong>tensorflow/tensorflow/contrib/makefile/gen/protobuf_ios/lib/libprotobuf-lite.a</strong><br><strong>tensorflow/tensorflow/contrib/makefile/gen/lib/libprotobuf.a</strong></td></tr></table></p>
<blockquote>
<p>Then add select xcode “Building Setting” menu,add <strong>$(PROJECT_DIR)/TensorFlowTest</strong> to Library Search Paths.Here replace <em>TensorFlowTest</em> to your project name. We’ll also add the following flags to Other Linker Flags:</p>
</blockquote>
<p><table><tr><td bgcolorr="BlueViolet"> <strong>-force_load $(PROJECT_DIR)/Your_Project_Name/libtensorflow-core.a</strong><br><strong>$(PROJECT_DIR)/Your_Project_Name/libprotobuf-lite.a</strong><br><strong>$(PROJECT_DIR)/Your_Project_Name/libprotobuf.a</strong></td></tr></table></p>
<blockquote>
<p>Next, we add the following to Header Search Paths.</p>
</blockquote>
<p><table><tr><td bgcolorr="BlueViolet"> <strong>~/tensorflow</strong><br><strong>~/tensorflow/tensorflow/contrib/makefile/gen/proto</strong><br><strong>~/tensorflow/tensorflow/contrib/makefile/downloads</strong><br><strong>~/tensorflow/tensorflow/contrib/makefile/downloads/protobuf/src</strong><br><strong>~/tensorflow/tensorflow/contrib/makefile/downloads/eigen</strong></td></tr></table></p>
<blockquote>
<p>Now that the xcode project is set up, we’ll load up our model and perform inference on the test datesets.</p>
</blockquote>

      
    </div>
    
  </div>
  
    
  
</article>


<div class="ds-share share" data-thread-key="hello-world" data-title="Getting Started with TensorFlow On IOS" data-url="http://yoursite.com/2017/10/25/hello-world/"  data-images="https://image.baidu.com/search/detail?z=0&amp;ipn=d&amp;word=人工智能%20标识&amp;step_word=&amp;hs=0&amp;pn=1&amp;spn=0&amp;di=0&amp;pi=&amp;tn=baiduimagedetail&amp;is=0%2C0&amp;istype=&amp;ie=utf-8&amp;oe=utf-8&amp;cs=689691022%2C755374610&amp;os=2194597829%2C1906536421&amp;simid=&amp;adpicid=0&amp;lpn=0&amp;fm=&amp;sme=&amp;cg=&amp;bdtype=14&amp;simics=2628950329%2C2234381557&amp;oriquery=&amp;objurl=https%3A%2F%2Ftimgsa.baidu.com%2Ftimg%3Fimage%26quality%3D80%26size%3Db10000_10000%26sec%3D1508986646%26di%3De6122d0b8d14ecbd87b29d31541da000%26src%3Dhttp%3A%2F%2Fwww.bjchengxing.com%2Fimg%2FaHR0cDovL2ltYWdlMTEubTE5MDUuY24vdXBsb2FkZmlsZS8yMDEyLzExMDEvMjAxMjExMDEwNDA0MTEzMDUuanBn.jpg&amp;fromurl=ippr_z2C%24qAzdH3FAzdH3Fooo_z%26e3Bk3vijg2xtg2_z%26e3Bv54AzdH3F3twg8098cn9b_z%26e3Bip4s&amp;gsm=0&amp;cardserver=1" data-content="Getting Started with TensorFlow On IOS">
    <div class="ds-share-inline">
      <ul  class="ds-share-icons-16">
      	<li data-toggle="ds-share-icons-more"><a class="ds-more" href="javascript:void(0);">分享到：</a></li>
        <li><a class="ds-weibo" href="javascript:void(0);" data-service="weibo">微博</a></li>
        <li><a class="ds-qzone" href="javascript:void(0);" data-service="qzone">QQ空间</a></li>
        <li><a class="ds-qqt" href="javascript:void(0);" data-service="qqt">腾讯微博</a></li>
        <li><a class="ds-wechat" href="javascript:void(0);" data-service="wechat">微信</a></li>
      </ul>
      <div class="ds-share-icons-more">
      </div>
    </div>
 </div>
 





</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
      <div class="footer-left">
        &copy; 2017 KingSoft-AI
      </div>
        <div class="footer-right">
          <a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/smackgg/hexo-theme-smackdown" target="_blank">Smackdown</a>
        </div>
    </div>
  </div>
</footer>
    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">


<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: true,
		animate: true,
		isHome: false,
		isPost: true,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false
	}
</script>
<script src="/js/main.js"></script>



<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js"></script>


  </div>
</body>
</html>